# Contributor: Jonas <spameier+alpine@proton.me>
# Maintainer: Jonas <spameier+alpine@proton.me>
pkgname=bettercap
pkgver=2.41.3
pkgrel=0
pkgdesc="The Swiss Army knife for 802.11, BLE, HID, CAN-bus, IPv4 and IPv6 networks reconnaissance and MITM attacks."
url="https://www.bettercap.org/"
arch="all"
license="GPL-3.0-or-later"
makedepends="
	go
	libpcap-dev
	libusb-dev
	python3
	"
depends="
	iptables
	iw
	net-tools
	wireless-tools
	"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/bettercap/bettercap/archive/refs/tags/v$pkgver.tar.gz"
options="net"

build() {
	make build
}

check() {
	make test
}

package() {
	install -Dm755 "$builddir/bettercap" -t "$pkgdir/usr/bin/"
	install -Dm644 LICENSE.md "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="
621816cf254c0f51d65e5656e9a4181137543367ec84f6e7df948c04bc10ba7e40e6d9b2e1b7547b19fe953455985e6ed65d72a7229462a7cdc1f086d38ccb5f  bettercap-2.41.3.tar.gz
"
