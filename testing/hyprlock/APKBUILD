# Contributor: Vasiliy Doylov <nekocwd@mainlining.org>
# Maintainer: Vasiliy Doylov <nekocwd@mainlining.org>
pkgname=hyprlock
pkgver=0.8.2
pkgrel=0
pkgdesc="Hyprland's GPU-accelerated screen locking utility"
url="https://github.com/hyprwm/hyprlock"
arch="all"
license="BSD-3-Clause"
options="!check" # No tests
makedepends="
	cairo-dev
	cmake
	file-dev
	hyprgraphics-dev
	hyprland-protocols
	hyprlang-dev
	hyprutils-dev
	hyprwayland-scanner
	jpeg-dev
	libwebp-dev
	libxkbcommon-dev
	linux-pam-dev
	mesa-dev
	ninja
	pango-dev
	sdbus-cpp-dev
	wayland-dev
	wayland-protocols
	"
source="
	$pkgname-$pkgver.tar.gz::https://github.com/hyprwm/hyprlock/archive/v$pkgver.tar.gz
	"

build() {
	cmake -B build -G Ninja \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_LIBEXECDIR=/usr/libexec \
		-DCMAKE_INSTALL_PREFIX=/usr
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
000057d2ebdb1d1e3a7cb38201afb1f02b4bb77f180283d85f117a9306e739964c7f33ee63124aa6e2f292ebdda40a2c5cb6114f5b0c557f2cbc6ff2e7daff56  hyprlock-0.8.2.tar.gz
"
