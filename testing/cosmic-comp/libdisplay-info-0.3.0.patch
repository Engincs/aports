From 169ba2a94fb2cc7a1282cbb6b39d873b0a378914 Mon Sep 17 00:00:00 2001
From: Achill Gilgenast <achill@achill.org>
Date: Wed, 13 Aug 2025 09:14:26 +0200
Subject: [PATCH] Switch to libdisplay-info-rs fork allowing libdisplay-info
 0.3.0

Signed-off-by: Achill Gilgenast <achill@achill.org>
---
 Cargo.lock                    | 11 ++++-------
 Cargo.toml                    |  2 +-
 cosmic-comp-config/Cargo.toml |  2 +-
 3 files changed, 6 insertions(+), 9 deletions(-)

diff --git a/Cargo.lock b/Cargo.lock
index 2982a85e..ffd5eaeb 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -3006,8 +3006,7 @@ dependencies = [
 [[package]]
 name = "libdisplay-info"
 version = "0.2.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "4210cfe93a0dc37228e08105e3c13171e5af816f7bd39e00e3d3adcf2b487a2b"
+source = "git+https://github.com/fossdd/libdisplay-info-rs?branch=0.3.0#ecc50329a9ecb98944bbc8834862a9f167b0a71f"
 dependencies = [
  "bitflags 2.9.4",
  "libc",
@@ -3018,9 +3017,8 @@ dependencies = [
 
 [[package]]
 name = "libdisplay-info-derive"
-version = "0.1.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "8dc2c710cf5819e91220a446d9e64acc6814386cc22c509c3f0df83c0b874a98"
+version = "0.1.0"
+source = "git+https://github.com/fossdd/libdisplay-info-rs?branch=0.3.0#ecc50329a9ecb98944bbc8834862a9f167b0a71f"
 dependencies = [
  "proc-macro2",
  "quote",
@@ -3030,8 +3028,7 @@ dependencies = [
 [[package]]
 name = "libdisplay-info-sys"
 version = "0.2.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "7f4f9264ece23c37ffa023ae635f48d588e1786745dad06dff10c9fb99dc646c"
+source = "git+https://github.com/fossdd/libdisplay-info-rs?branch=0.3.0#ecc50329a9ecb98944bbc8834862a9f167b0a71f"
 dependencies = [
  "semver",
  "system-deps",
diff --git a/Cargo.toml b/Cargo.toml
index e0877934..d5b0a1d7 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -32,7 +32,7 @@ cosmic-settings-daemon-config = { git = "https://github.com/pop-os/cosmic-settin
 cosmic-text = { git = "https://github.com/pop-os/cosmic-text.git", features = [
     "shape-run-cache",
 ] }
-libdisplay-info = "0.2.2"
+libdisplay-info = { git = "https://github.com/fossdd/libdisplay-info-rs", branch = "0.3.0" }
 egui = { version = "0.31.0", optional = true }
 egui_plot = { version = "0.31.0", optional = true }
 i18n-embed = { version = "0.16", features = [
diff --git a/cosmic-comp-config/Cargo.toml b/cosmic-comp-config/Cargo.toml
index a656030b..1fdf305f 100644
--- a/cosmic-comp-config/Cargo.toml
+++ b/cosmic-comp-config/Cargo.toml
@@ -7,7 +7,7 @@ edition = "2021"
 cosmic-config = { git = "https://github.com/pop-os/libcosmic/" }
 cosmic-randr-shell = { git = "https://github.com/pop-os/cosmic-randr/", optional = true }
 input = "0.9.0"
-libdisplay-info = { version = "0.2.0", optional = true }
+libdisplay-info = { git = "https://github.com/fossdd/libdisplay-info-rs", branch = "0.3.0", optional = true }
 serde = { version = "1", features = ["derive"] }
 ron = { version = "0.9.0-alpha.0", optional = true }
 tracing = { version = "0.1.37", features = [
-- 
2.51.0

