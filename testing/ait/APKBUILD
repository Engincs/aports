# Maintainer: Celeste <cielesti@protonmail.com>
maintainer="Celeste <cielesti@protonmail.com>"
pkgname=ait
pkgver=1.12
pkgrel=0
pkgdesc="Small yet mighty GNU Emacs style editor"
url="https://notabug.org/nuclearkev/ait"
arch="all"
license="BSD-3-Clause"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://notabug.org/nuclearkev/ait/archive/$pkgver.tar.gz
	gcc15.patch
	"
builddir="$srcdir/$pkgname"

build() {
	make CC="$CC" LD="$CC"
}

check() {
	./ait -v
}

package() {
	install -Dvm755 ait -t "$pkgdir"/usr/bin/

	install -Dvm644 ait.1 -t "$pkgdir"/usr/share/man/man1/
	install -Dvm644 README.md -t "$pkgdir"/usr/share/doc/$pkgname/
	install -Dvm644 ./*LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname/
}

sha512sums="
648f77628802fb72692e44389cbd4b16611996a86ec51adbf59e0976a64080ed9b0e02b29d340ee141c3ec027f5ef2c048853a86aac91f95d29fc47781935e57  ait-1.12.tar.gz
9505d361463a7e2ec93b263617bcaf8391724951c733134d68800f5c7caf022cba06e0a78473ab489769829a45ce155aaa0b621584b2181246bbc260225bbff4  gcc15.patch
"
