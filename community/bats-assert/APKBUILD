# Contributor: qaqland <qaq@qaq.land>
# Maintainer: qaqland <qaq@qaq.land>
pkgname=bats-assert
pkgver=2.2.1
pkgrel=0
pkgdesc="Common assertions for Bats"
url="https://github.com/bats-core/bats-assert"
arch="noarch"
license="CC0-1.0"
depends="bash bats-core bats-support"
source="$pkgname-$pkgver.tar.gz::https://github.com/bats-core/bats-assert/archive/refs/tags/v$pkgver.tar.gz
	001-add-missing-semicolon.patch
	"

check() {
	BATS_LIB_PATH=/usr/lib/bats bats test
}

package() {
	install -Dm644 load.bash "$pkgdir"/usr/lib/bats/bats-assert/load.bash
	install -Dm644 src/* -t "$pkgdir"/usr/lib/bats/bats-assert/src
}

sha512sums="
a71910d629da0476696a3d0fde03275c3f9ca8828c5c608e942d88e6b35087ac8c7cc2cb0dd56afb1b05097870a682110b42bd769accdda5cb39ca3bd9645d0a  bats-assert-2.2.1.tar.gz
6be00fb06e15adcddb61a107869bf2002f26acc57768f27f63ac432dca3528d14d287496790f0b14210bdc39e242af2e2ec64fdef7c30854137ab69673c65b9b  001-add-missing-semicolon.patch
"
