From 3a282b74d2c5dfac95703c37406950e1b5dc6d75 Mon Sep 17 00:00:00 2001
From: Mike Lei <mikelei8291@users.noreply.github.com>
Date: Fri, 16 May 2025 18:43:47 +0800
Subject: [PATCH] Remove the call to the deprecated method `avcodec_close`

Deprecated in ffmpeg 7.0: https://ffmpeg.org/doxygen/7.0/deprecated.html#_deprecated000003
---
 src/video-source.cc | 1 -
 1 file changed, 1 deletion(-)

diff --git a/src/video-source.cc b/src/video-source.cc
index 97942ca..bdc537c 100644
--- a/src/video-source.cc
+++ b/src/video-source.cc
@@ -111,7 +111,6 @@ VideoSource::VideoSource(const std::string &filename) : ImageSource(filename) {
 
 VideoSource::~VideoSource() {
     sws_freeContext(sws_context_);
-    avcodec_close(codec_context_);
     avcodec_free_context(&codec_context_);
     avformat_close_input(&format_context_);
     delete terminal_fb_;
